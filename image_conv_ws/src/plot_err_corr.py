#!/usr/bin/env python3

import pandas as pd
import matplotlib.pyplot as plt
from io import StringIO

# The data provided as a multi-line string
data = """
id tx ty tz roll pitch yaw scale
5  0.541733521920572 -0.3326534195037755 0.4626201588953388 -179.8624182289042 6.8546769901291 -79.25272777092398 0.500815767652361
6 0.56439891913252 -0.21244446519967847 0.45201105273886355 -176.50385702503846 -4.81138728379785 -89.75065550896768 0.5020335877461448
7  0.4706866092464028 -0.14101306080466386 0.24417201414868703 179.0978725073328 -1.588744778375213 -73.50592548133689 0.49686421710846645
8  0.5576757522644104 -0.03970415786003848 0.24098086438383204 176.7969025663354 2.8612558216978132 -160.92565479192865 0.5005085758857591
9  0.5237805411714832 -0.08605231768841956 0.24893821138167674 -179.86793813558717 -4.896300734195108 -103.59362737338924 0.4970124067662044
10  0.49301883100846633 -0.17310713908269448 0.24697447529565328 179.29707869019163 -7.15967551567719 -92.64942193015925 0.5003835546927767
11  0.5225884529531303 -0.13499795734066738 0.2404898914843904 -152.28778664356147 -5.248703826181884 -85.4440007433857 0.4968359836023289
12  0.5342621657083393 -0.13051887553188152 0.4209150953554393 -179.88246428022276 -3.68960324084715 -73.08780988204416 0.5036189667604873
"""

# Convert the string data into a pandas DataFrame
data_io = pd.read_csv(StringIO(data), sep="\s+")

# Plot each component in separate graphs
components = ['tx', 'ty', 'tz', 'roll', 'pitch', 'yaw', 'scale']

for component in components:
    plt.figure(figsize=(10, 6))  # Create a new figure for each component
    plt.plot(data_io['id'], data_io[component], marker='o', linestyle='-')
    plt.title(f'{component} per bag file')
    plt.xlabel('Bag file ID')
    plt.ylabel(component)
    plt.grid(True)  # Adding grid for better readability
    plt.show()  # Display the current figure before moving to the next one
